{% extends "main/base.html" %}
{% load static %}

{# Beginner note: this sets the browser tab title #}
{% block title %}Sign Up{% endblock %}

{% block content %}
<!-- Beginner note: this wrapper keeps the form centered and readable -->
<section class="auth-wrap">

  <!-- Page heading -->
  <header class="auth-header">
    <h1>Create your account</h1>
    <p class="auth-subtitle">
      Sign up to start building and viewing your schedule.
    </p>
  </header>

  <!-- Beginner note: show a nice error box if there are form errors -->
  {% if form.errors %}
    <div class="auth-alert">
      <strong>Please fix the errors below.</strong>
    </div>
  {% endif %}

  <!-- Signup form -->
  <form method="post" class="auth-card" novalidate>
    {% csrf_token %}

    <!-- Username -->
    <div class="field">
      <label for="{{ form.username.id_for_label }}">Username</label>
      {{ form.username }}
      {% if form.username.help_text %}<small class="help">{{ form.username.help_text|safe }}</small>{% endif %}
      {% for error in form.username.errors %}<div class="error">{{ error }}</div>{% endfor %}
    </div>

    <!-- Email -->
    <div class="field">
      <label for="{{ form.email.id_for_label }}">Email</label>
      {{ form.email }}
      {% for error in form.email.errors %}<div class="error">{{ error }}</div>{% endfor %}
    </div>

    <!-- Password 1 -->
    <div class="field">
      <label for="{{ form.password1.id_for_label }}">Password</label>
      {{ form.password1 }}
      {% if form.password1.help_text %}<small class="help">{{ form.password1.help_text|safe }}</small>{% endif %}
      {% for error in form.password1.errors %}<div class="error">{{ error }}</div>{% endfor %}
    </div>

    <!-- Password 2 -->
    <div class="field">
      <label for="{{ form.password2.id_for_label }}">Confirm password</label>
      {{ form.password2 }}
      {% for error in form.password2.errors %}<div class="error">{{ error }}</div>{% endfor %}
    </div>

    <!-- Non-field errors (rare, but helpful) -->
    {% for error in form.non_field_errors %}
      <div class="error">{{ error }}</div>
    {% endfor %}

    <button type="submit" class="btn-primary">Create account</button>

    <p class="auth-footer">
      Already have an account?
      <a href="{% url 'login' %}">Log in</a>
    </p>
  </form>

</section>

<!-- Basic page-only styles (so you don't have to edit styles.css yet) -->
<style>
  /* Center the signup area */
  .auth-wrap {
    max-width: 420px;
    margin: 2.5rem auto;
    padding: 0 1rem;
  }

  /* Title + subtitle */
  .auth-header h1 {
    margin: 0 0 .25rem;
    font-size: 1.6rem;
  }
  .auth-subtitle {
    margin: 0 0 1.25rem;
    opacity: .8;
  }

  /* Card look */
  .auth-card {
    background: #fff;
    border: 1px solid rgba(0,0,0,.08);
    border-radius: 12px;
    padding: 1.25rem;
    box-shadow: 0 8px 24px rgba(0,0,0,.06);
  }

  /* Inputs */
  .field { margin-bottom: 1rem; }
  .field label {
    display: block;
    font-weight: 600;
    margin-bottom: .35rem;
  }
  .field input {
    width: 100%;
    padding: .65rem .75rem;
    border-radius: 10px;
    border: 1px solid rgba(0,0,0,.18);
    outline: none;
  }
  .field input:focus {
    border-color: rgba(0,0,0,.5);
  }

  /* Help + errors */
  .help {
    display: block;
    margin-top: .35rem;
    font-size: .85rem;
    opacity: .75;
  }
  .error {
    margin-top: .35rem;
    color: #b00020;
    font-size: .9rem;
  }
  .auth-alert {
    background: rgba(176, 0, 32, .08);
    border: 1px solid rgba(176, 0, 32, .25);
    color: #7a0016;
    padding: .75rem 1rem;
    border-radius: 10px;
    margin-bottom: 1rem;
  }

  /* Button */
  .btn-primary {
    width: 100%;
    padding: .75rem 1rem;
    border: 0;
    border-radius: 10px;
    cursor: pointer;
    font-weight: 700;
  }

  /* Footer */
  .auth-footer {
    margin: 1rem 0 0;
    text-align: center;
    font-size: .95rem;
  }
</style>
{% endblock %}
