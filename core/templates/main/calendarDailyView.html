{% extends "main/base.html" %}
{% load static %}

{% block title %}Bravo Planner - Daily Calendar{% endblock %}

{% block content %}

  <h2>Your Daily Schedule</h2>

  <!-- =======================
       Today's Date Section
       "dash-card" gives dashboard card styling
       "dailyCalendarDate" is specific for daily calendar date display
       Backend can dynamically update #current-date with today's date
  ======================= -->
  <section class="dash-card dailyCalendarDate">
    <h3>Today's Date</h3>

    <!-- Backend will use current date id to populate this -->
    <p id="current-date">
      {{ today|date:"l, F j, Y" }}
    </p>
  </section>

  <!-- =======================
       Daily Schedule Table
       "dash-card" gives dashboard card styling
       "dailyCalendar" is specific for daily calendar table styling
       Backend will populate the table cells with events for each hour
  ======================= -->
  <section class="dash-card dailyCalendar">
    <h3>Time Slots</h3>

    <div class="calendar-wrapper">
      <table class="calendar-table daily">
        <thead>
          <tr>
            <th>Time</th>
            <th>Event</th>
          </tr>
        </thead>

        <tbody>
          <!-- Each row represents one hourly time slot -->
          <!-- Backend will inject events into the corresponding <td> by ID -->

          <tr>
            <td>8:00 – 9:00</td>
            <td id="hour-8">
              {% for item in items %}
                {% if item.time.hour == 8 %}
                  <div class="event">{{ item.title }}</div>
                {% endif %}
              {% endfor %}
            </td>
          </tr>

          <tr>
            <td>9:00 – 10:00</td>
            <td id="hour-9">
              {% for item in items %}
                {% if item.time.hour == 9 %}
                  <div class="event">{{ item.title }}</div>
                {% endif %}
              {% endfor %}
            </td>
          </tr>

          <tr>
            <td>10:00 – 11:00</td>
            <td id="hour-10">
              {% for item in items %}
                {% if item.time.hour == 10 %}
                  <div class="event">{{ item.title }}</div>
                {% endif %}
              {% endfor %}
            </td>
          </tr>

          <tr>
            <td>11:00 – 12:00</td>
            <td id="hour-11">
              {% for item in items %}
                {% if item.time.hour == 11 %}
                  <div class="event">{{ item.title }}</div>
                {% endif %}
              {% endfor %}
            </td>
          </tr>

          <tr>
            <td>12:00 – 1:00</td>
            <td id="hour-12">
              {% for item in items %}
                {% if item.time.hour == 12 %}
                  <div class="event">{{ item.title }}</div>
                {% endif %}
              {% endfor %}
            </td>
          </tr>

          <tr>
            <td>1:00 – 2:00</td>
            <td id="hour-13">
              {% for item in items %}
                {% if item.time.hour == 13 %}
                  <div class="event">{{ item.title }}</div>
                {% endif %}
              {% endfor %}
            </td>
          </tr>

          <tr>
            <td>2:00 – 3:00</td>
            <td id="hour-14">
              {% for item in items %}
                {% if item.time.hour == 14 %}
                  <div class="event">{{ item.title }}</div>
                {% endif %}
              {% endfor %}
            </td>
          </tr>

          <tr>
            <td>3:00 – 4:00</td>
            <td id="hour-15">
              {% for item in items %}
                {% if item.time.hour == 15 %}
                  <div class="event">{{ item.title }}</div>
                {% endif %}
              {% endfor %}
            </td>
          </tr>

          <tr>
            <td>4:00 – 5:00</td>
            <td id="hour-16">
              {% for item in items %}
                {% if item.time.hour == 16 %}
                  <div class="event">{{ item.title }}</div>
                {% endif %}
              {% endfor %}
            </td>
          </tr>

        </tbody>
      </table>
    </div>

    <!-- =======================
         Footer link for navigation
         Static link back to Dashboard
    ======================= -->
    <p class="table-footer">
      <a href="{% url 'dashboard' %}">Back to Dashboard</a>
    </p>

  </section>

{% endblock %}
